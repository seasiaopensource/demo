<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-lg-10 admin-title">
    <h2>{{ 'EditCategory' | translate }}</h2>
    <ol class="breadcrumb">
      <li>
        <a href="admin">{{ 'Home' | translate }}</a>
      </li>
      <li>
        <a href="admin/categories">{{ 'Categories' | translate }}</a>
      </li>
      <li class="active">
        <strong>{{ 'EditCategory' | translate }}</strong>
      </li>
    </ol>
  </div>
</div>

<div class="categoryDetail">
  <form [formGroup]="form" (ngSubmit)="save()">
    <div class="panel-body">
      <fieldset class="form-horizontal">
        <div class="form-group">
          <label class="col-sm-2 control-label">{{ 'Name' | translate }}:</label>
          <div class="col-sm-10">
            <md-input-container>
              <input mdInput formControlName="name" [placeholder]=" 'Name' | translate ">
              <md-error>{{ 'FieldRequired' | translate }}</md-error>
            </md-input-container>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">{{ 'Description' | translate }}:</label>
          <div class="col-sm-10">
            <md-input-container>
              <input mdInput formControlName="description" [placeholder]=" 'Description' | translate ">
              <md-error>{{ 'FieldRequired' | translate }}</md-error>
            </md-input-container>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">{{ 'ParentCategory' | translate }}:</label>
          <div class="col-sm-10">
            <md-select formControlName="parent_id" [placeholder]=" 'ParentCategory' | translate ">
              <md-option [value]="null">{{ 'None' | translate }}</md-option>
              <md-option *ngFor="let category of categories" [value]="category._id">{{ category.name }}</md-option>
            </md-select>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Category Picture:</label>
          <div class="col-sm-10">
            <div *ngIf="uploader.queue.length == 0">
              <input type="file" ng2FileSelect [uploader]="uploader" multiple />
              <img width="100" height="100" [src]="categoryImages[0]" class="media-object" *ngIf="categoryImages.length > 0" />
            </div>
            <div *ngIf="uploader.queue.length > 0">
              <img width="100" height="100" imgPreview [image]="uploader.queue[0]?._file" class="media-object" />
              Queue progress:
              <div class="progress" style="">
                <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>
              </div>
              <button type="button" class="btn btn-danger btn-xs"
                      (click)="uploader.queue[0].remove()" [disabled]="!uploader.getNotUploadedItems().length">
                <span class="glyphicon glyphicon-trash"></span> Remove
              </button>
            </div>

          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-10">
            <button md-raised-button class="ad-savetbtn" type="submit">{{ 'Save' | translate }}</button>
          </div>
        </div>
      </fieldset>
    </div>
  </form>
</div>
